"use strict";(self.webpackJsonpCheckout=self.webpackJsonpCheckout||[]).push([[356],{96031:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var a=n(99136),r=n(696),o=n.n(r),i=n(67627),l=n(43478),s=n(7616),c=n(96393),m=n(36158),u=n(54895);function d(e){var t=e.physicalItems,n=e.digitalItems,a=e.giftCertificates,r=e.customItems;return t.length+n.length+a.length+(r||[]).length}var p=n(71271),h=n(80113),C=n(56820),f=n(90380),E=n(94563),g=n(17394),y=n(91231),v=n(71502),k=function(e){var t=e.onRequestClose,n=e.headerLink;return i.createElement(i.Fragment,null,i.createElement("a",{className:"cart-modal-close",href:"#",onClick:(0,p.Z)(t)},i.createElement("span",{className:"is-srOnly"},i.createElement(s.Z,{id:"common.close_action"})),i.createElement(h.Z,null)),i.createElement(f.Z,{additionalClassName:"cart-modal-title"},i.createElement(s.Z,{id:"cart.cart_heading"})),n)};const Z=function(e){var t=e.additionalLineItems,n=(e.children,e.onRequestClose),r=e.onAfterOpen,o=e.storeCurrency,l=e.shopperCurrency,s=e.isOpen,c=e.headerLink,m=e.lineItems,u=e.total,d=(0,a.__rest)(e,["additionalLineItems","children","onRequestClose","onAfterOpen","storeCurrency","shopperCurrency","isOpen","headerLink","lineItems","total"]);return i.createElement(C.Z,{additionalBodyClassName:"cart-modal-body optimizedCheckout-orderSummary",additionalHeaderClassName:"cart-modal-header optimizedCheckout-orderSummary",header:k({headerLink:c,onRequestClose:n}),isOpen:s,onAfterOpen:r,onRequestClose:n},i.createElement(g.Z,null,i.createElement(E.Z,{items:m})),i.createElement(g.Z,null,i.createElement(y.Z,(0,a.__assign)({},d)),t),i.createElement(g.Z,null,i.createElement(v.Z,{orderAmount:u,shopperCurrencyCode:l.code,storeCurrencyCode:o.code})))};const O=(0,i.memo)((function(e){var t=e.additionalLineItems,n=e.coupons,r=e.discountAmount,p=e.giftCertificates,h=e.handlingAmount,C=e.headerLink,f=e.lineItems,E=e.onRemovedCoupon,g=e.onRemovedGiftCertificate,y=e.shippingAmount,v=e.shopperCurrency,k=e.storeCreditAmount,O=e.giftWrappingAmount,A=e.storeCurrency,I=e.subtotalAmount,_=e.taxes,N=e.total,w=(0,i.useCallback)((function(e){return i.createElement(Z,(0,a.__assign)({},e,{additionalLineItems:t,coupons:n,discountAmount:r,giftCertificates:p,giftWrappingAmount:O,handlingAmount:h,headerLink:C,lineItems:f,onRemovedCoupon:E,onRemovedGiftCertificate:g,shippingAmount:y,shopperCurrency:v,storeCreditAmount:k,storeCurrency:A,subtotalAmount:I,taxes:_,total:N}))}),[t,n,r,p,h,C,f,E,g,O,y,v,k,A,I,_,N]);return i.createElement(m.Z,{modal:w},(function(e){var t=e.onClick,n=e.onKeyPress;return i.createElement("div",{className:"cartDrawer optimizedCheckout-orderSummary",onClick:t,onKeyPress:n,tabIndex:0},i.createElement("figure",{className:o()("cartDrawer-figure",{"cartDrawer-figure--stack":d(f)>1})},i.createElement("div",{className:"cartDrawer-imageWrapper"},function(e){var t=e.physicalItems[0]||e.digitalItems[0];if(t&&t.imageUrl)return i.createElement("img",{alt:t.name,"data-test":"cart-item-image",src:t.imageUrl});if(e.giftCertificates.length)return i.createElement(c.Z,null)}(f))),i.createElement("div",{className:"cartDrawer-body"},i.createElement("h3",{className:"cartDrawer-items optimizedCheckout-headingPrimary"},i.createElement(s.Z,{data:{count:(0,u.Z)(f)},id:"cart.item_count_text"})),i.createElement("a",null,i.createElement(s.Z,{id:"cart.show_details_action"}))),i.createElement("div",{className:"cartDrawer-actions"},i.createElement("h3",{className:"cartDrawer-total optimizedCheckout-headingPrimary"},i.createElement(l.Z,{amount:N}))))}))}))},36158:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(99136),r=n(67627);const o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1},t.canHandleEvent=!1,t.handleOpen=function(){t.canHandleEvent&&t.setState({isOpen:!0})},t.handleClose=function(){t.canHandleEvent&&t.setState({isOpen:!1})},t.handleKeyOpen=function(e){"Enter"===e.key&&t.handleOpen()},t}return(0,a.__extends)(t,e),t.prototype.componentDidMount=function(){this.canHandleEvent=!0},t.prototype.componentWillUnmount=function(){this.canHandleEvent=!1},t.prototype.render=function(){var e=this.props,t=e.children,n=e.modal,a=this.state.isOpen;return r.createElement(r.Fragment,null,t({onClick:this.handleOpen,onKeyPress:this.handleKeyOpen}),n({isOpen:a,onRequestClose:this.handleClose}))},t}(r.Component)}}]);
//# sourceMappingURL=order-summary-drawer-227b447c.js.map